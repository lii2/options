-- Table: public.daily_data

CREATE TABLE daily_data(daily_data_key SERIAL PRIMARY KEY, ticker VARCHAR NOT NULL, "day" date NOT NULL);
	SELECT * FROM DAILY_DATA;


-- Table: public.daily_technicals

CREATE TABLE daily_technicals
(
    daily_technicals_key SERIAL PRIMARY KEY,
    daily_data_key integer NOT NULL,
    CONSTRAINT daily_data_fk FOREIGN KEY (daily_data_key)
        REFERENCES public.daily_data (daily_data_key) MATCH SIMPLE
        ON UPDATE NO ACTION
        ON DELETE CASCADE
)

-- Table: public.time_series_daily

-- DROP TABLE public.time_series_daily;

CREATE TABLE public.time_series_daily
(
    time_series_daily_key SERIAL PRIMARY KEY,
    daily_data_key integer NOT NULL,
    open numeric NOT NULL,
    close numeric NOT NULL,
    high numeric NOT NULL,
    low numeric NOT NULL,
     CONSTRAINT daily_data_fk FOREIGN KEY (daily_data_key)
        REFERENCES public.daily_data (daily_data_key) MATCH SIMPLE
        ON UPDATE NO ACTION
        ON DELETE CASCADE
)

-- Table: public.bbands


CREATE TABLE bbands
(
    bbands_key SERIAL PRIMARY KEY,
    time_period numeric,
    series_type character varying COLLATE pg_catalog."default",
    nbdevup numeric,
    nbdevdn numeric,
    matype character varying COLLATE pg_catalog."default",
    real_middle_band numeric NOT NULL,
    real_upper_band numeric NOT NULL,
    real_lower_band numeric NOT NULL,
    daily_technicals_key integer NOT NULL,
    CONSTRAINT daily_technicals_fk FOREIGN KEY (daily_technicals_key)
        REFERENCES public.daily_technicals (daily_technicals_key) MATCH SIMPLE
        ON UPDATE NO ACTION
        ON DELETE CASCADE
)


-- Table: public.ema
CREATE TABLE ema
(
    ema_key SERIAL PRIMARY KEY,
    series_type character varying COLLATE pg_catalog."default",
    time_period numeric,
    ema numeric NOT NULL,
    daily_technicals_key integer NOT NULL,
    CONSTRAINT daily_technicals_fk FOREIGN KEY (daily_technicals_key)
        REFERENCES public.daily_technicals (daily_technicals_key) MATCH SIMPLE
        ON UPDATE NO ACTION
        ON DELETE CASCADE
)

-- Table: public.macd

CREATE TABLE macd
(
    macd_key SERIAL PRIMARY KEY,
    series_type character varying COLLATE pg_catalog."default",
    fast_period numeric,
    slow_period numeric,
    signal_period numeric,
    macd_hist numeric,
    macd_signal numeric,
    macd numeric NOT NULL,
    daily_technicals_key integer NOT NULL,
    CONSTRAINT daily_technicals_fk FOREIGN KEY (daily_technicals_key)
        REFERENCES public.daily_technicals (daily_technicals_key) MATCH SIMPLE
        ON UPDATE NO ACTION
        ON DELETE CASCADE
)